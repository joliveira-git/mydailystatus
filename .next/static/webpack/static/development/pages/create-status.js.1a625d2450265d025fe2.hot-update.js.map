{"version":3,"file":"static/webpack/static/development/pages/create-status.js.1a625d2450265d025fe2.hot-update.js","sources":["webpack:///./pages/create-status.js"],"sourcesContent":["import React, { useState } from 'react'\nimport auth0 from '../lib/auth0'\nimport axios from  'axios';\n\nconst CreateStatus = () => {\n    const [dados, setDados] = useState({\n        status: 'bem',\n        coords:{\n            lat: null,\n            long: null\n        }\n    })\n    const getMyLocation = () => {\n        if(navigator.geolocation){\n            const currentPosition = navigator.geolocation.getCurrentPosition;\n            setDados(old =>{\n                return {\n                    ...old,\n                    coords:{\n                        lat: currentPosition.coords.latitude,\n                        long: currentPosition.coords.longitude\n                    }\n                }\n            })\n        }\n    }\n    const onStatusChange = evt => {\n        //Necessário guardar do lado de fora pq a função interna é chamada de forma assíncrona e o valor pode não existir mais\n        const value = evt.target.value\n        setDados(old =>{\n            return{\n                ...old,\n                status: value\n            }\n        })\n        console.log(evt.target.value);\n    }\n    const save = async () =>{\n        await axios.post('/api/save-status', dados)\n    }\n\n    return(\n        <div class=\"py-2 px-4\">\n            <form class=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\n                <div class=\"md:w-1/2 md:items-center\">\n                    <h1>Status do dia:</h1>\n                    <label className='block'>\n                        <input type='radio' name='status' value='bem' onClick={onStatusChange}/>\n                        Estou bem e sem sintomas.\n                    </label>\n                    <label className='block'>\n                        <input type='radio' name='status' value='gripe' onClick={onStatusChange}/>\n                        Estou com sintomas de gripe / resfriado.\n                    </label>\n                    <label className='block'>\n                        <input type='radio' name='status' value='covid' onClick={onStatusChange}/>\n                        Estou com sintomas de COVID. \n                    </label>\n                    <br/>\n                    <p>Sua posição atual: Status: {dados.status}</p>\n                    <p>Localização: Latitude:{dados.coords.lat}, Longitude: {dados.coords.long}</p>\n                    <br/>\n                    <div class=\"flex items-center justify-between\">\n                        <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\" onClick={getMyLocation}>Pegar Localização</button>  \n                        <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\" onClick={save}>Salvar meu Status</button>              \n                    </div>\n                </div>            \n            </form>\n\n        </div>        \n    )\n}\nexport default CreateStatus\n\nexport async function getServerSideProps({ req, res}){\n    const session = await auth0.getSession(req)\n    if (session){\n        return{\n            props:{\n                isAuth: true,\n                user: session.user,\n            }\n    \n        }\n    \n\n    }\n    return{\n        props:{\n            isAuth: false,\n            user: { }\n        }\n    }\n\n}\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAFA;AADA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;;AAAA;;;;A","sourceRoot":""}